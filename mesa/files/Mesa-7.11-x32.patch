--- Mesa-7.11/bin/mklib.x32	2011-11-30 14:29:14.976465283 -0800
+++ Mesa-7.11/bin/mklib	2011-11-30 14:32:48.591525193 -0800
@@ -335,7 +335,12 @@ case $ARCH in
 	    set ${OBJECTS}
 	    ABI32=`file $1 | grep 32-bit`
 	    if [ "${ABI32}" -a `uname -m` = "x86_64" ] ; then
-		OPTS="-m32 ${OPTS}"
+		ABIX32=`file $1 | grep x86-64`
+		if [ "${ABI32}" ]; then
+		    OPTS="-mx32 ${OPTS}"
+		else
+		    OPTS="-m32 ${OPTS}"
+		fi
 	    fi
 
             if [ "${ALTOPTS}" ] ; then
